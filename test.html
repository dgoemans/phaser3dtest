<!DOCTYPE html>
<html>
<body>

<canvas id="myCanvas" width="800" height="800" style="border:1px solid #d3d3d3;">
    Your browser does not support the HTML5 canvas tag.</canvas>

<script>
    var y = 0;

    window.requestAnimFrame = (function(){
        return  window.requestAnimationFrame       ||
                window.webkitRequestAnimationFrame ||
                window.mozRequestAnimationFrame    ||
                function( callback ){
                    window.setTimeout(callback, 1000 / 60);
                };
    })();

    var start = Date.now();

    (function animloop(){
        var timestamp = Date.now();
        if (!start) start = timestamp;
        var progress = timestamp - start;

        y = Math.sin(timestamp/1000)*500;
        requestAnimFrame(animloop);
        render();
    })();

    function render()
    {
        var c = document.getElementById("myCanvas");
        var ctx = c.getContext("2d");

        ctx.clearRect(0,0, c.width, c.height);

        ctx.save();

        ctx.transform(1,0,0,1,400,400);


        ctx.beginPath();
        ctx.lineWidth="5";
        ctx.moveTo(0,0 + y);
        ctx.lineTo(5000,5*y + y);
        ctx.lineTo(-5000,5*y + y);

        ctx.closePath();
        ctx.fillStyle = "#FF0000";
        ctx.fill(); // Draw it

        ctx.restore();
    }
</script>

</body>
</html>
